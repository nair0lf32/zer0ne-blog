<!DOCTYPE html>

{{- $src := .Get "src" -}} {{- $alt := .Get "alt" | default "Image" -}} {{-
$class := .Get "class" | default "" -}} {{- $width := .Get "width" | default
"300" -}} {{- $height := .Get "height" | default "200" -}} {{- $radius := .Get
"radius" | default "4px" -}} {{- $image := .Page.Resources.GetMatch $src -}} {{-
$finalSrc := cond $image $image.RelPermalink ($src | relURL) -}}

<img
  src="{{ $finalSrc }}"
  alt="{{ $alt }}"
  width="{{ $width }}"
  height="{{ $height }}"
  class="custom-image {{ $class }}"
  style="--img-radius: {{ $radius }};"
  loading="lazy"
  decoding="async" />

<style>
  .custom-image {
    max-width: 100%;
    height: auto;
    border-radius: var(--img-radius, 4px);
    object-fit: cover;
  }
</style>
